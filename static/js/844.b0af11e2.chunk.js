"use strict";(self.webpackChunklasting_website=self.webpackChunklasting_website||[]).push([[844],{8844:function(e,l,a){a.r(l),a.d(l,{default:function(){return b}});var r=a(2791),i={A2:{url:"a54",isPlay:!1},A3:{url:"a69",isPlay:!1},A4:{url:"a80",isPlay:!1},A5:{url:"a74",isPlay:!1},A6:{url:"a66",isPlay:!1},"A#3":{url:"b69",isPlay:!1},"A#4":{url:"b80",isPlay:!1},"A#5":{url:"b74",isPlay:!1},"A#6":{url:"b66",isPlay:!1},B2:{url:"a55",isPlay:!1},B3:{url:"a82",isPlay:!1},B4:{url:"a65",isPlay:!1},B5:{url:"a75",isPlay:!1},B6:{url:"a78",isPlay:!1},C2:{url:"a49",isPlay:!1},C3:{url:"a56",isPlay:!1},C4:{url:"a84",isPlay:!1},C5:{url:"a83",isPlay:!1},C6:{url:"a76",isPlay:!1},C7:{url:"a77",isPlay:!1},"C#2":{url:"b49",isPlay:!1},"C#3":{url:"b56",isPlay:!1},"C#4":{url:"b84",isPlay:!1},"C#5":{url:"b83",isPlay:!1},"C#6":{url:"b76",isPlay:!1},D2:{url:"a50",isPlay:!1},D3:{url:"a57",isPlay:!1},D4:{url:"a89",isPlay:!1},D5:{url:"a68",isPlay:!1},D6:{url:"a90",isPlay:!1},"D#2":{url:"b50",isPlay:!1},"D#3":{url:"b57",isPlay:!1},"D#4":{url:"b89",isPlay:!1},"D#5":{url:"b68",isPlay:!1},"D#6":{url:"b90",isPlay:!1},E2:{url:"a51",isPlay:!1},E3:{url:"a48",isPlay:!1},E4:{url:"a85",isPlay:!1},E5:{url:"a70",isPlay:!1},E6:{url:"a88",isPlay:!1},F2:{url:"a52",isPlay:!1},F3:{url:"a81",isPlay:!1},F4:{url:"a73",isPlay:!1},F5:{url:"a71",isPlay:!1},F6:{url:"a67",isPlay:!1},"F#2":{url:"b52",isPlay:!1},"F#3":{url:"b81",isPlay:!1},"F#4":{url:"b73",isPlay:!1},"F#5":{url:"b71",isPlay:!1},"F#6":{url:"b67",isPlay:!1},G2:{url:"a53",isPlay:!1},G3:{url:"a87",isPlay:!1},G4:{url:"a79",isPlay:!1},G5:{url:"a72",isPlay:!1},G6:{url:"a86",isPlay:!1},"G#2":{url:"b53",isPlay:!1},"G#3":{url:"b87",isPlay:!1},"G#4":{url:"b79",isPlay:!1},"G#5":{url:"b72",isPlay:!1},"G#6":{url:"b86",isPlay:!1}};var n={KeyZ:"C3",KeyX:"D3",KeyC:"E3",KeyV:"F3",KeyB:"G3",KeyN:"A3",KeyM:"B3",KeyS:"C#3",KeyD:"D#3",KeyG:"F#3",KeyH:"G#3",KeyJ:"A#3",KeyQ:"C4",KeyW:"D4",KeyE:"E4",KeyR:"F4",KeyT:"G4",KeyY:"A4",KeyU:"B4",Digit2:"C#4",Digit3:"D#4",Digit5:"F#4",Digit6:"G#4",Digit7:"A#4",KeyI:"C5",KeyO:"D5",KeyP:"E5",BracketLeft:"F5",BracketRight:"G5",Backslash:"A5",Digit9:"C#5",Digit0:"D#5",Equal:"F#5"};function t(e){return n[e]}var u=a(6515),s=a(3430),y=a(184);function c(e){var l=e.name,a=e.listenKeyCode,i=e.isWhiteKey,n=e.style,t=(0,r.useState)(!1),c=(0,s.Z)(t,2),o=c[0],P=c[1];return(0,y.jsx)("div",{onKeyDown:function(e){e.code===a&&P(!0),console.log(e.code,a)},onKeyUp:function(e){e.code===a&&P(!1)},className:"pianoKey ".concat(i?"white":"black"," ").concat(o?".press":""),style:(0,u.Z)({},n),children:(0,y.jsx)("span",{children:l})})}var o=i,P=new Map;function b(){(0,r.useCallback)((function(e){var l=t(e.code);if(void 0!==l&&!o[l].isPlay){var a=function(e){return document.getElementById("pianoKey".concat(e))}(l);null!==a?(o[l].isPlay=!0,a.pause(),a.volume=1,a.loop=!1,a.currentTime=0,a.play().then((function(e){a.onended=function(){o[l].isPlay=!1,a.pause()}}),(function(e){alert(e)}))):alert("can not find audio Element in document")}}),[]),(0,r.useCallback)((function(e){var l=t(e.code);void 0!==l&&o[l].isPlay&&(o[l].isPlay=!1),console.log("keydown")}),[]);var e=(0,r.useMemo)((function(){return Object.entries(o).map((function(e,l){return(0,y.jsxs)("audio",{onPlay:function(l){clearInterval(P.get(e)),P.set(e,function(e,l){var a=l,r=setInterval((function(){var l=e.volume;a<10||l<.03?clearInterval(r):e.volume=l<.6?l-.01:.95*l,a-=10}),100);return r}(l.currentTarget,1e3))},id:"pianoKey".concat(e[0]),children:[(0,y.jsx)("source",{src:"/audios/piano/mp3/".concat(e[1].url,".mp3")}),(0,y.jsx)("source",{src:"/audios/piano/ogg/".concat(e[1].url,".ogg")})]},l)}))}),[]),l=(0,r.useMemo)((function(){var e=0;return Object.entries(o).map((function(l,a){var r=!l[0].includes("#"),i=r?40:20,n=e;return e+=i,(0,y.jsx)(c,{name:l[0],listenKeyCode:t(l[0]),isWhiteKey:r,style:{width:"".concat(i,"px"),height:"100px",left:"".concat(n,"px"),top:"0"}},a)}))}),[]);return(0,y.jsxs)("div",{children:[(0,y.jsx)("div",{children:e}),(0,y.jsx)("div",{className:"piano",children:l})]})}},6515:function(e,l,a){function r(e,l,a){return l in e?Object.defineProperty(e,l,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[l]=a,e}function i(e,l){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);l&&(r=r.filter((function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable}))),a.push.apply(a,r)}return a}function n(e){for(var l=1;l<arguments.length;l++){var a=null!=arguments[l]?arguments[l]:{};l%2?i(Object(a),!0).forEach((function(l){r(e,l,a[l])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(a,l))}))}return e}a.d(l,{Z:function(){return n}})}}]);
//# sourceMappingURL=844.b0af11e2.chunk.js.map